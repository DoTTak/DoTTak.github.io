---
layout: post
title: "[C 언어] Chapter16 - 다차원 배열"
date: 2020-04-24 08:44:57 +0900
categories: 
    - C 언어
tags:
    - C 언어
---

> 본 글은 '윤성우 저 열혈강의 C 프로그래밍' 교재를 학습 후 정리한 글입니다.

<!-- more -->

## 01 다차원 배열의 이해와 활용

### 01-1 2차원, 3차원 배열
```c
int arrOneDim[10];          // 길이가 10인 1차원 int형 배열
int arrTwoDim[5][5];        // 가로, 세로 길이가 각각 5인 2차원 int형 배열
int arrThreeDim[3][3][3];   // 가로, 세로, 높이의 길이가 각각 3인 int형 배열
```

### 01-2 2차원 배열
- 2차원 배열의 모양

    ```c
    /**
     *      1열     2열     3열    4열
     * 1행 [0][0] [0][1] [0][2] [0][3]
     * 2행 [1][0] [1][1] [1][2] [1][3]
     * 3행 [2][0] [2][1] [2][2] [2][3]
     **/
    int arr1[3][4];
    
    /**
     *      1열     2열     3열    4열     5열    6열
     * 1행 [0][0] [0][1] [0][2] [0][3] [0][4] [0][5]
     * 2행 [1][0] [1][1] [1][2] [1][3] [1][4] [1][5]
     **/
    int arr2[2][6];
    ```

    - 배열 요소에 삽입된 `[i][j]` 모양은 2차원 배열의 인덱스
    - 2차원 배열 `TYPE arr[i][j]`의 크기는 `TYPE의 크기 x (i x j)` 이다.
        - arr1의 크기는 int 크기인 (4bytes x (3 x 4)) = 48
        - arr2의 크기는 int 크기인 (4bytes x (2 x 6)) = 48

- 2차원 배열요소의 접근

    ```
        1열 2열 3열
    1행   0  0  0
    2행   0  0  0
    3행   0  0  0
    ```

    - arr[0][0] = 1;
        
        ```
            1열 2열 3열
        1행   1  0  0
        2행   0  0  0
        3행   0  0  0
        ```

    - arr[0][1] = 2;
        
        ```
            1열 2열 3열
        1행   0  2  0
        2행   0  0  0
        3행   0  0  0
        ```

    - arr[2][1] = 5;
        
        ```
            1열 2열 3열
        1행   0  0  0
        2행   0  0  0
        3행   0  5  0
        ```

### 01-3 2차원 배열의 메모리상 할당의 형태
- 2차원 배열도 메모리상에는 1차원의 형태로 존재
    ```c
    int arr[3][2]; // 2차원 배열 선언
    int num = 0;

    for(int i=0; i<3; i++){
        for(int j=0; j<2; j++){
            arr[i][j] = num;
            num++;
        }
    }
    ```
    - 2차원 배열 arr에 0, 1, 2, 3, 4, 5를 대입한 모양
    - 이때 int arr[3][2]의 메모리상 구조
        ```
        [Addr] [num]   [idx]
        0x1000   0   arr[0][0]
        0x1004   1   arr[0][1]
        0x1008   2   arr[1][0]
        0x100C   3   arr[1][1]
        0x1010   4   arr[2][0]
        0x1014   5   arr[2][1]
        ```

### 01-4 2차원 배열 선언과 동시 초기화
```c
// 선언방법 1
int arr[3][3] = {
    {1, 2, 3},      // 1 2 3
    {4, 5, 6},      // 4 5 6
    {7, 8, 9}       // 7 8 9
};

// 선언방법 2 -> 부족한 부분은 0으로 채워짐
int arr[3][3] = {
    {1},            // 1 0 0
    {4, 5},         // 4 5 0
    {7, 8, 9}       // 7 8 9
};

// 선언방법 3 -> 행부터 채워지며 부족한 것은 0으로 채춰짐
int arr[3][3] = {
    1, 2, 3,        // 1 2 3
    4, 5, 6,        // 4 5 6
    7               // 7 0 0
};
    // ㄴ>
    //  int arr[3][3] = {1,2,3,4,5,6,7} 또는,
    //  int arr[3][3] = {1,2,3,4,5,6,7,0,0} 도 가능
```

### 01-5 배열의 크기를 알려주지 않고 초기화
- 1차원 배열에서는 배열의 크기를 선언 안해도 됨
    ```c
    int arr[] = {1,2,3} // 자동으로 크기는 3으로 컴파일러가 해석
    ```
- 2차원 배열에서는 배열의 크기를 하나이상 알려줘야함
    ```c
    // 컴파일 에러 (크기를 결정하는 경우의 수가 많으므로 1x8, 2x4, 4x2 등)
    int arr[][] = {1,2,3,4,5,6,7,8}

    // 컴파일 성공 (자동으로 나머지 크기를 구할 수 있음)
    int arr[][4] = {1,2,3,4,5,6,7,8} 

    // 컴파일 에러 (자동으로 나머지 크기를 구할 수 있음)
    int arr[][2] = {1,2,3,4,5,6,7,8} 
    ```

## 02 3차원 배열

### 02-1 3차원 배열의 선언
```c
int arr1[2][3][4];      // 높이, 세로, 가로가 각각 2 3 4인 int형 3차원 배열
double arr2[5][5][5];   // 높이, 세로, 가로가 각각 5 5 5인 double형 3차원 배열
```

### 02-2 3차원 배열의 크기
```c
int arr1[2][3][4];      // 크기는 ? (높이 2 x 세로 3 x 가로 4 x int형 크기 4) 96
double arr2[5][5][5];   // 크기는 ? (높이 5 x 세로 5 x 가로 5 x double형 크기 8) 1000
```

### 02-3 3차원 배열의 선언과 접근
- 어느 고등학교 3학년의 학급이 3개이며 각 학급에 3명의 학생이 있을 때, 각 학생의 국어, 수학의 성적 평균
    ```c
    #include <stdio.h>


    int main(void)
    {
        int i,j;
        double avg_num = 0.0;

        int arr[3][3][2] = {
            {
                // A 학급
                {70, 80},   // A 학급 학생 1 각 성적 70, 80
                {94, 90},   // A 학급 학생 2 각 성적 94, 90
                {70, 85}    // A 학급 학생 3 각 성적 70, 85
            },
            {
                // B 학급
                {83, 90},   // B 학급 학생 1 각 성적 83, 90
                {95, 60},   // B 학급 학생 2 각 성적 95, 60
                {90, 82}    // B 학급 학생 3 각 성적 90, 82
            },
            {
                // C 학급
                {98, 89},   // C 학급 학생 1 각 성적 98, 89
                {99, 94},   // C 학급 학생 2 각 성적 99, 94
                {91, 87}    // C 학급 학생 3 각 성적 91, 87
            }
        };


        for(i=0;i<3;i++)
        {   
            avg_num = 0.0;
            for(j=0;j<3;j++){
                avg_num += arr[i][j][0] + arr[i][j][1];
            }
            printf("평균: %g \n",avg_num/6);
        }


        return 0;
    }
    ```
- **3차원 배열은 여러 개의 2차원 배열이 모여있는 형태로 이해하는 것이 더 합리적**